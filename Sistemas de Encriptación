\documentclass{article}
\usepackage[utf8]{inputenc}

\title{Encriptación en C++}
\author{Mamani Maraza Rusbel Yampier}
\date{29/05/2024}

\begin{document}

\maketitle


Universidad: Universidad Nacional del Altiplano Puno


Curso: Programming Languages II

\section{Código de encriptación por 3 métodos en C++}

\begin{verbatim}
#include <iostream>
#include <cmath>
#include <string>
#include <unordered_map>

using namespace std;


double calcularEntropia(const string& texto) {
    unordered_map<char, int> frecuencia;

    
    for (char c : texto) {
        frecuencia[c]++;
    }

    double entropia = 0.0;
    int totalCaracteres = texto.length();
    for (const auto& par : frecuencia) {
        double probabilidad = static_cast<double>(par.second) / totalCaracteres;
        entropia -= probabilidad * log2(probabilidad);
    }

    return entropia;
}


string encriptarSustitucion(const string& texto) {
    string resultado = texto;
    for (char& c : resultado) {
        if (isalpha(c)) {
            c = (c + 3 - 'a') % 26 + 'a'; 
        }
    }
    return resultado;
}

string encriptarCesar(const string& texto, int clave) {
    string resultado = texto;
    for (char& c : resultado) {
        if (isalpha(c)) {
            c = (c + clave - 'a') % 26 + 'a'; 
        }
    }
    return resultado;
}


string encriptarXOR(const string& texto, char clave) {
    string resultado = texto;
    for (char& c : resultado) {
        c = c ^ clave;
    }
    return resultado;
}

int main() {
    string texto;
    cout << "Ingrese el texto a encriptar: ";
    getline(cin, texto);

   
    string textoEncriptadoSustitucion = encriptarSustitucion(texto);
    double entropiaSustitucion = calcularEntropia(textoEncriptadoSustitucion);

  
    int claveCesar;
    cout << "Ingrese la clave para el cifrado Cesar: ";
    cin >> claveCesar;
    cin.ignore(); // Limpiar el buffer del teclado
    string textoEncriptadoCesar = encriptarCesar(texto, claveCesar);
    double entropiaCesar = calcularEntropia(textoEncriptadoCesar);

  
    char claveXOR;
    cout << "Ingrese la clave para el cifrado XOR: ";
    cin >> claveXOR;
    string textoEncriptadoXOR = encriptarXOR(texto, claveXOR);
    double entropiaXOR = calcularEntropia(textoEncriptadoXOR);

 
    cout << "\nTexto encriptado usando sustitucion: " << textoEncriptadoSustitucion << endl;
    cout << "Entropia: " << entropiaSustitucion << endl;

    cout << "\nTexto encriptado usando cifrado Cesar: " << textoEncriptadoCesar << endl;
    cout << "Entropia: " << entropiaCesar << endl;

    cout << "\nTexto encriptado usando cifrado XOR: " << textoEncriptadoXOR << endl;
    cout << "Entropia: " << entropiaXOR << endl;

    return 0;
}
\end{verbatim}

\end{document}
